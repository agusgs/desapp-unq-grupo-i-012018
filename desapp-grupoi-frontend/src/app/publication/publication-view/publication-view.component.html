<div class="container-fluid container-90">
  <h1 class="display-4">Publication #{{publication.publicationId}}</h1>
  <div class="row">
    <div class="card top-buffer border border-dark shadow-sm" style="width: 16rem;">
      <img class="card-img-top" src={{owner.avatar}}>
      <div class="card-body">
        <h4 class="card-title">{{owner.name}}</h4>
        <p class="card-text">{{owner.cuil}}</p>
        <p class="card-text">{{owner.email}}</p>
        <p class="card-text">{{owner.address}}</p>
        <bar-rating [readOnly]="true" [(rate)]="owner.score" [max]="5"
                    [theme]="'stars'"></bar-rating>
      </div>
    </div>
    <div class="card top-buffer nav-item-margin border border-dark shadow-sm" style="width: 16rem;">
      <img class="card-img-top"
           src={{publication.vehicle.picture}}>
      <div class="card-body">
        <h4 class="card-title">{{vehicle.license}}</h4>
        <p class="card-text"><strong>Type:</strong> {{vehicle.vehicleType}}</p>
        <p class="card-text"><strong>Description:</strong> {{vehicle.description}}</p>
        <p class="card-text"><strong>Number of Passengers:</strong> {{vehicle.numberOfPassengers}}</p>
      </div>
    </div>
    <div class="col">
      <div class="card top-buffer border border-dark shadow-sm">
        <div class="card-body">
          <p class="card-title"><strong>PickUp Address: </strong>{{publication.pickUpAddress}}</p>
          <agm-map [latitude]="latpu" [longitude]="lngpu" [zoom]="15">
            <agm-marker [latitude]="latpu" [longitude]="lngpu">
              <agm-info-window>{{publication.pickUpAddress}}</agm-info-window>
            </agm-marker>
          </agm-map>
        </div>
      </div>
      <div class="card top-buffer border border-dark shadow-sm">
        <div class="card-body">
          <p class="card-title"><strong>Return Address: </strong>{{publication.returnAddress[0]}}</p>
          <agm-map [latitude]="latr" [longitude]="lngr" [zoom]="15">
            <agm-marker [latitude]="latr" [longitude]="lngr">
              <agm-info-window>{{publication.returnAddress[0]}}</agm-info-window>
            </agm-marker>
          </agm-map>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card top-buffer border border-dark shadow-sm">
        <div class="card-body">
          <p class="card-title"><strong>Select Renting Date</strong></p>
          <select [(ngModel)]="selectedDate">
            <option *ngFor="let date of publication.availableDates" [value]="date">
              {{date}}
            </option>
          </select>
        </div>
      </div>
      <div class="card top-buffer border border-dark shadow-sm">
        <div class="card-body">
          <p class="card-title"><strong>Conditions:</strong></p>
          <ul>
            <li>Selected dates should be consecutive</li>
            <li>Images are only for illustration purposes</li>
            <li>Every reservation must be approved by the owner</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <button type="button" class="btn btn-light btn-lg btn-block top-buffer border border-dark shadow-sm"
            [disabled]="selectedDate === null" (click)="submitReservation()">Reserve
    </button>
  </div>
</div>
